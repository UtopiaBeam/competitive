#include<stdio.h>
#include<math.h>
char a[10][50];
double ans=0;
void chk(int d){
    int i,j=d;
    for(i=1;i<4*d;i+=4){
        if(a[0][i]=='_' && a[1][i-1]=='|' && a[1][i]=='_' && a[1][i+1]=='|' && a[2][i-1]=='|' && a[2][i]=='_' && a[2][i+1]=='|')
            ans+=pow(10,--j)*8;
        else if(a[0][i]=='_' && a[1][i-1]=='|' && a[1][i]=='_' && a[1][i+1]=='|' && a[2][i]=='_' && a[2][i+1]=='|')
            ans+=pow(10,--j)*9;
        else if(a[0][i]=='_' && a[1][i]=='_' && a[1][i-1]=='|' && a[2][i-1]=='|' && a[2][i]=='_' && a[2][i+1]=='|')
            ans+=pow(10,--j)*6;
        else if(a[0][i]=='_' && a[1][i]=='_' && a[1][i-1]=='|' && a[2][i+1]=='|' && a[2][i]=='_')
            ans+=pow(10,--j)*5;
        else if(a[1][i-1]=='|' && a[1][i]=='_' && a[1][i+1]=='|' && a[2][i+1]=='|')
            ans+=pow(10,--j)*4;
        else if(a[0][i]=='_' && a[1][i]=='_' && a[1][i+1]=='|' && a[2][i]=='_' && a[2][i+1]=='|')
            ans+=pow(10,--j)*3;
        else if(a[0][i]=='_' && a[1][i]=='_' && a[1][i+1]=='|' && a[2][i-1]=='|' && a[2][i]=='_')
            ans+=pow(10,--j)*2;
        else if(a[0][i]=='_' && a[1][i-1]=='|' && a[1][i+1]=='|' && a[2][i-1]=='|' && a[2][i]=='_' && a[2][i+1]=='|')
            ans+=pow(10,--j)*0;
        else if(a[0][i]=='_' && a[1][i+1]=='|' && a[2][i+1]=='|')
            ans+=pow(10,--j)*7;
        else if(a[1][i+1]=='|' && a[2][i+1]=='|')
            ans+=pow(10,--j)*1;
    }
}
int main(){
    int m,n,i;
    scanf("%d %d",&m,&n);
    gets(a[0]);
    for(i=0;i<3;i++)
        gets(a[i]);
    chk(m);
    for(i=0;i<3;i++)
        gets(a[i]);
    chk(n);
    printf("%.0lf\n",ans);
    return 0;
}
